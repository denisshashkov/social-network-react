"use strict";(self.webpackChunksocial_network_react=self.webpackChunksocial_network_react||[]).push([[486],{3486:function(e,o,r){r.r(o),r.d(o,{default:function(){return V}});var s=r(2791),t=r(7880),i="post_item__iXJ9g",a="post_item__left__qjASD",n="post_item__avatar__QkYWl",l=r(184),c=function(e){var o=e.message,r=e.likeCount;return(0,l.jsxs)("div",{className:i,children:[(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)("img",{className:n,src:"https://image.shutterstock.com/z/stock-vector-asian-boy-smiling-male-avatar-cartoon-guy-character-facial-expression-smile-vector-illustration-625960208.jpg",alt:""}),(0,l.jsx)("div",{children:(0,l.jsx)(t.Z,{children:r})})]}),(0,l.jsx)("span",{children:o})]})},u=r(5705),d=r(132),_=r(2593),p=d.Ry().shape({post:d.Z_().min(2,"Too Short!").max(50,"Max length 50 symbols!")}),f=function(e){var o=e.submitHandler;return(0,l.jsx)("div",{children:(0,l.jsx)(u.J9,{initialValues:{id:Date.now(),post:"",likeCount:0},onSubmit:o,validationSchema:p,children:function(e){var o=e.errors,r=e.touched;return(0,l.jsxs)(u.l0,{children:[(0,l.jsx)(u.gN,{className:o.post&&r.post?_.Z.error__border:null,placeholder:"Enter your post",name:"post",component:"textarea"}),o.post&&r.post?(0,l.jsx)("p",{className:_.Z.error,children:o.post}):null,(0,l.jsx)("div",{children:(0,l.jsx)(t.Z,{type:"submit",children:"Add post"})})]})}})})},m="myPosts_posts__gxSdg",h="myPosts_posts__items__LQ-VJ",x=function(e){var o=e.profilePage.posts.map((function(e){return(0,l.jsx)(c,{likeCount:e.likeCount,message:e.post},e.id)}));return(0,l.jsxs)("div",{className:m,children:[(0,l.jsx)(f,{submitHandler:function(o,r){e.addPost(o),r.resetForm()}}),(0,l.jsx)("div",{className:h,children:o})]})},j=r(6508),b=r(364),v=(0,b.$j)((function(e){return{profilePage:e.profilePage,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(o){e((0,j.Wl)(o))}}}))(x),g={profile__cover:"profile_profile__cover__DWoy9"},N=r(885),k=r(1120),S="profileStatus_profile__status__40NyL",Z=function(e){var o=(0,s.useState)(!1),r=(0,N.Z)(o,2),t=r[0],i=r[1],a=(0,s.useState)(e.status),n=(0,N.Z)(a,2),c=n[0],u=n[1],d=(0,b.I0)();(0,s.useEffect)((function(){u(e.status)}),[e.status]);return(0,l.jsx)("div",{className:S,children:t?(0,l.jsx)("div",{children:(0,l.jsx)("input",{onBlur:function(){i(!1),d(e.updateStatus(c))},autoFocus:!0,onChange:function(e){var o=e.target.value;u(o)},value:c})}):(0,l.jsx)("div",{children:(0,l.jsxs)("span",{onClick:function(){i(!0)},children:["Status: ",e.status||"Add status"]})})})},A=r(9392),w="profileInfo_info__wrapper__0w15M",F="profileInfo_profile__info__TR-WL",y="profileInfo_profile__info__photo__hMZqb",J="profileInfo_input__file__VL18Q",D="profileInfo_input__file__label__KiAme",P="profileInfo_profile__data__2H6tm",M="profileInfo_profile__data__item__F-BlK";var I=function(e){var o=e.profile,r=e.owner,s=e.editModeHandler;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:M,children:(0,l.jsxs)("b",{children:["Full Name: ",o.fullName]})}),(0,l.jsx)("div",{className:M,children:(0,l.jsxs)("b",{children:["Looking for a job: ",o.lookingForAJob?"Yes":"No"]})}),(0,l.jsx)("div",{className:M,children:(0,l.jsxs)("b",{children:["About me: ",o.aboutMe]})}),(0,l.jsx)("div",{className:M,children:o.lookingForAJob&&(0,l.jsxs)("b",{children:["Skills: ",o.lookingForAJobDescription]})}),r&&(0,l.jsx)(t.Z,{onClick:function(){s()},children:"Edit"})]})},T=function(e){var o=e.submitHandler,r=e.profile,s=d.Ry().shape({fullName:d.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Required field"),aboutMe:d.Z_().min(2,"Too Short!").max(100,"Too Long!"),lookingForAJobDescription:d.Z_().min(2,"Too Short!").max(100,"Too Long!")});return(0,l.jsx)("div",{children:(0,l.jsx)(u.J9,{initialValues:{fullName:r.fullName,lookingForAJob:!1,aboutMe:r.aboutMe,lookingForAJobDescription:r.lookingForAJobDescription},onSubmit:o,validationSchema:s,children:function(e){var o=e.errors,r=e.touched,s=e.status;return(0,l.jsxs)(u.l0,{children:[(0,l.jsx)("label",{children:"Full Name"}),(0,l.jsx)("div",{className:_.Z.input__wrapper,children:(0,l.jsx)(u.gN,{name:"fullName",className:o.fullName&&r.fullName?_.Z.error__border:null})}),o.fullName&&r.fullName?(0,l.jsx)("p",{className:_.Z.error,children:o.fullName}):null,(0,l.jsxs)("div",{className:_.Z.checkbox__wrapper,children:[(0,l.jsx)(u.gN,{type:"checkbox",name:"lookingForAJob",className:_.Z.checkbox}),"Looking for a job"]}),(0,l.jsx)("label",{children:"About me"}),(0,l.jsx)("div",{children:(0,l.jsx)(u.gN,{component:"textarea",name:"aboutMe",className:o.aboutMe&&r.aboutMe?_.Z.error__border:null})}),o.aboutMe&&r.aboutMe?(0,l.jsx)("p",{className:_.Z.error,children:o.aboutMe}):null,(0,l.jsx)("label",{children:"Skills"}),(0,l.jsx)("div",{children:(0,l.jsx)(u.gN,{component:"textarea",name:"lookingForAJobDescription",className:o.lookingForAJobDescription&&r.lookingForAJobDescription?_.Z.error__border:null})}),o.lookingForAJobDescription&&r.lookingForAJobDescription?(0,l.jsx)("p",{className:_.Z.error,children:o.lookingForAJobDescription}):null,s?(0,l.jsx)("p",{className:_.Z.error,children:s.error}):null,(0,l.jsx)("div",{children:(0,l.jsx)(t.Z,{type:"submit",children:"Save"})})]})}})})},C=function(e){var o=e.profile,r=e.status,t=e.updateStatus,i=e.owner,a=e.savePhoto,n=e.saveData,c=(0,s.useState)(!1),u=(0,N.Z)(c,2),d=u[0],_=u[1],p=(0,b.I0)();return o?(0,l.jsxs)("div",{className:w,children:[(0,l.jsxs)("div",{className:F,children:[(0,l.jsx)("img",{className:y,src:o.photos.large||A,alt:"No Avatar"}),i&&(0,l.jsxs)("label",{htmlFor:"input__file",className:D,children:[(0,l.jsx)("input",{type:"file",id:"input__file",className:J,onChange:function(e){p(a(e.target.files[0]))}}),"Upload image"]})]}),(0,l.jsxs)("div",{className:P,children:[(0,l.jsx)(Z,{status:r,updateStatus:t}),d?(0,l.jsx)(T,{profile:o,submitHandler:function(e,o){p(n(e,o.setStatus)),_(!1)}}):(0,l.jsx)(I,{profile:o,owner:i,editModeHandler:function(){_(!0)}})]})]}):(0,l.jsx)(k.Z,{})},L=function(e){var o=e.profile,r=e.status,s=e.updateStatus,t=e.owner,i=e.savePhoto,a=e.saveData;return(0,l.jsxs)("main",{className:g.profile,children:[(0,l.jsx)("div",{className:g.profile__cover,children:(0,l.jsx)(C,{profile:o,status:r,updateStatus:s,owner:t,savePhoto:i,saveData:a})}),(0,l.jsx)(v,{})]})},H=r(6871),E=function(e){return e.profilePage.profile},q=function(e){return e.profilePage.status},B=function(e){return e.auth.id},R=function(e){return e.auth.isAuth},V=function(){var e=(0,b.I0)(),o=(0,b.v9)(E),r=(0,b.v9)(q),t=(0,b.v9)(B),i=(0,b.v9)(R),a=(0,H.bS)("/profile/:userId/"),n=a?a.params.userId:t;return(0,s.useEffect)((function(){(i||a)&&(e((0,j.aI)(n)),e((0,j.TL)(n)))}),[n]),i?(0,l.jsx)(L,{owner:null===a,profile:o,status:r,updateStatus:j.fd,savePhoto:j.m2,saveData:j.Uy}):(0,l.jsx)(H.Fg,{to:"/login"})}},2593:function(e,o){o.Z={error:"formStyles_error__e9G6r",error__border:"formStyles_error__border__70zrh",checkbox:"formStyles_checkbox__n5IBE",checkbox__wrapper:"formStyles_checkbox__wrapper__Eq9xh",input__wrapper:"formStyles_input__wrapper__YBA90"}},9392:function(e,o,r){e.exports=r.p+"static/media/user.d223269b140c6fd83582.png"}}]);
//# sourceMappingURL=486.aa5f1742.chunk.js.map