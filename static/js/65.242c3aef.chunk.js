"use strict";(self.webpackChunksocial_network_react=self.webpackChunksocial_network_react||[]).push([[65],{9065:function(e,r,o){o.r(r),o.d(r,{default:function(){return q}});var t=o(8683),s=o(5671),n=o(3144),i=o(136),a=o(3668),l=o(2791),u="post_item__iXJ9g",c="post_item__avatar__QkYWl",d=o(184),p=function(e){var r=e.message,o=e.likeCount;return(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)("img",{className:c,src:"https://image.shutterstock.com/z/stock-vector-asian-boy-smiling-male-avatar-cartoon-guy-character-facial-expression-smile-vector-illustration-625960208.jpg",alt:""}),r,(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:o})})]})},h=o(5705),f=o(132),m=o(2593),x=f.Ry().shape({post:f.Z_().min(2,"Too Short!").max(50,"Max length 50 symbols!")}),j=function(e){var r=e.submitHandler;return(0,d.jsx)("div",{children:(0,d.jsx)(h.J9,{initialValues:{id:Date.now(),post:"",likeCount:0},onSubmit:r,validationSchema:x,children:function(e){var r=e.errors,o=e.touched;return(0,d.jsxs)(h.l0,{children:[(0,d.jsx)(h.gN,{className:r.post&&o.post?m.Z.error__border:null,placeholder:"Enter your post",name:"post",component:"textarea"}),r.post&&o.post?(0,d.jsx)("p",{className:m.Z.error,children:r.post}):null,(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",children:"Add post"})})]})}})})},v="myPosts_posts__gxSdg",_=function(e){var r=e.profilePage.posts.map((function(e){return(0,d.jsx)(p,{likeCount:e.likeCount,message:e.post},e.id)}));return(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)(j,{submitHandler:function(r,o){e.addPost(r),o.resetForm()}}),(0,d.jsx)("div",{className:v,children:r})]})},b=o(6508),g=o(7581),k=(0,g.$j)((function(e){return{profilePage:e.profilePage,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(r){e((0,b.Wl)(r))}}}))(_),N={profile__cover:"profile_profile__cover__DWoy9"},S=o(885),Z=o(7638),P="profileStatus_profile__status__40NyL",A=function(e){var r=(0,l.useState)(!1),o=(0,S.Z)(r,2),t=o[0],s=o[1],n=(0,l.useState)(e.status),i=(0,S.Z)(n,2),a=i[0],u=i[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,d.jsx)("div",{className:P,children:t?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onBlur:function(){s(!1),e.updateStatus(a)},autoFocus:!0,onChange:function(e){var r=e.target.value;u(r)},value:a})}):(0,d.jsx)("div",{children:(0,d.jsxs)("span",{onClick:function(){s(!0)},children:["Status: ",e.status||"Add status"]})})})},C=o(9392),y="profileInfo_profile__info__TR-WL",T="profileInfo_profile__info__photo__hMZqb";var D=function(e){var r=e.profile,o=e.owner,t=e.editModeHandler;return(0,d.jsxs)("div",{children:[o&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{onClick:function(){t()},children:"Edit"})}),(0,d.jsx)("div",{children:(0,d.jsxs)("b",{children:["Full Name: ",r.fullName]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("b",{children:["Looking for a job: ",r.lookingForAJob?"Yes":"No"]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("b",{children:["About me: ",r.aboutMe]})}),(0,d.jsx)("div",{children:r.lookingForAJob&&(0,d.jsxs)("b",{children:["Skills: ",r.lookingForAJobDescription]})})]})},F=function(e){var r=e.submitHandler,o=e.profile,t=f.Ry().shape({fullName:f.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Required field"),aboutMe:f.Z_().min(2,"Too Short!").max(100,"Too Long!"),lookingForAJobDescription:f.Z_().min(2,"Too Short!").max(100,"Too Long!")});return(0,d.jsx)("div",{children:(0,d.jsx)(h.J9,{initialValues:{fullName:o.fullName,lookingForAJob:!1,aboutMe:o.aboutMe,lookingForAJobDescription:o.lookingForAJobDescription},onSubmit:r,validationSchema:t,children:function(e){var r=e.errors,o=e.touched,t=e.status;return(0,d.jsxs)(h.l0,{children:[(0,d.jsx)("label",{children:"Full Name"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.gN,{name:"fullName",className:r.fullName&&o.fullName?m.Z.error__border:null})}),r.fullName&&o.fullName?(0,d.jsx)("p",{className:m.Z.error,children:r.fullName}):null,(0,d.jsxs)("div",{children:[(0,d.jsx)(h.gN,{type:"checkbox",name:"lookingForAJob"}),"Looking for a job"]}),(0,d.jsx)("label",{children:"About me"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.gN,{component:"textarea",name:"aboutMe",className:r.aboutMe&&o.aboutMe?m.Z.error__border:null})}),r.aboutMe&&o.aboutMe?(0,d.jsx)("p",{className:m.Z.error,children:r.aboutMe}):null,(0,d.jsx)("label",{children:"Skills"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.gN,{component:"textarea",name:"lookingForAJobDescription",className:r.lookingForAJobDescription&&o.lookingForAJobDescription?m.Z.error__border:null})}),r.lookingForAJobDescription&&o.lookingForAJobDescription?(0,d.jsx)("p",{className:m.Z.error,children:r.lookingForAJobDescription}):null,t?(0,d.jsx)("p",{className:m.Z.error,children:t.error}):null,(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",children:"Save"})})]})}})})},J=function(e){var r=e.profile,o=e.status,t=e.updateStatus,s=e.owner,n=e.savePhoto,i=e.saveData,a=(0,l.useState)(!1),u=(0,S.Z)(a,2),c=u[0],p=u[1];return r?(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:y,children:[(0,d.jsx)("img",{className:T,src:r.photos.large||C,alt:"No Avatar"}),s&&(0,d.jsx)("input",{type:"file",onChange:function(e){n(e.target.files[0])}})]}),(0,d.jsx)(A,{status:o,updateStatus:t}),c?(0,d.jsx)(F,{profile:r,submitHandler:function(e,r){i(e,r.setStatus),p(!1)}}):(0,d.jsx)(D,{profile:r,owner:s,editModeHandler:function(){p(!0)}})]}):(0,d.jsx)(Z.Z,{})},M=function(e){var r=e.profile,o=e.status,t=e.updateStatus,s=e.owner,n=e.savePhoto,i=e.saveData;return(0,d.jsxs)("main",{className:N.profile,children:[(0,d.jsx)("div",{className:N.profile__cover,children:(0,d.jsx)(J,{profile:r,status:o,updateStatus:t,owner:s,savePhoto:n,saveData:i})}),(0,d.jsx)(k,{})]})},w=o(6871),L=o(2863),I=o(7781),H=function(e){(0,i.Z)(o,e);var r=(0,a.Z)(o);function o(){var e;(0,s.Z)(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).componentDidMount=function(){e.refreshProfile()},e.componentDidUpdate=function(r){e.props.match!==r.match&&e.refreshProfile()},e}return(0,n.Z)(o,[{key:"refreshProfile",value:function(){var e=this.props.match?this.props.match.params.userId:this.props.authorizedUserId;this.props.getProfileThunkCreator(e),this.props.getProfileStatusThunkCreator(e)}},{key:"render",value:function(){return(0,d.jsx)(M,(0,t.Z)((0,t.Z)({},this.props),{},{owner:null===this.props.match,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateProfileStatusThunkCreator,savePhoto:this.props.savePhotoThunkCreator,saveData:this.props.saveDataThunkCreator}))}}]),o}(l.Component),q=(0,I.qC)(L.S,(0,g.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfileThunkCreator:b.aI,getProfileStatusThunkCreator:b.TL,updateProfileStatusThunkCreator:b.fd,savePhotoThunkCreator:b.m2,saveDataThunkCreator:b.Uy}))((function(e){var r=(0,w.bS)("/profile/:userId/");return(0,d.jsx)(H,(0,t.Z)((0,t.Z)({},e),{},{match:r}))}))},2863:function(e,r,o){o.d(r,{S:function(){return h}});var t=o(8683),s=o(5671),n=o(3144),i=o(136),a=o(3668),l=o(2791),u=o(7581),c=o(6871),d=o(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var r=function(r){(0,i.Z)(l,r);var o=(0,a.Z)(l);function l(){return(0,s.Z)(this,l),o.apply(this,arguments)}return(0,n.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(e,(0,t.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,u.$j)(p)(r)}},2593:function(e,r){r.Z={error:"formStyles_error__e9G6r",error__border:"formStyles_error__border__70zrh"}},9392:function(e,r,o){e.exports=o.p+"static/media/user.d223269b140c6fd83582.png"}}]);
//# sourceMappingURL=65.242c3aef.chunk.js.map